{% extends "base.html" %}
{% block title %}Search Logs{% endblock %}

{% block content %}
<h3 class="mb-4">Search Logs</h3>

<form method="POST" class="row g-3 mb-4">
    <div class="col-md-6">
        <input type="text" name="keyword" class="form-control"
               placeholder="Enter keyword (e.g. ERROR)" required>
    </div>
    <div class="col-md-2">
        <button class="btn btn-primary w-100">Search</button>
    </div>
</form>

{% if results %}
<div class="card">
    <div class="card-header">
        {{ results|length }} result(s) found
    </div>
    <div class="card-body table-responsive">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Time</th>
                <!-- <th>Level</th> -->
                <th>Message</th>
            </tr>
            </thead>
            <tbody>
            {% for log in results %}
            <tr>
                <td>{{ log.timestamp }}</td>
                <!-- <td>
                    <span class="badge bg-danger">{{ log.level }}</span>
                </td> -->
                <td>{{ log.message }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% elif request.method == "POST" %}
<div class="alert alert-warning">No results found.</div>
{% endif %}
{% endblock %}
